@import "Field";

$cx-slider-handle-styles: (
   default: (
      margin: -8px 0 0 -8px,
      padding: 0,
      width: 16px,
      height: 16px,
      background: rgb(235, 235, 235),
      border: 1px solid rgb(204, 204, 204),
      border-radius: 50%,
      box-shadow: 0 0 3px rgba(128, 128, 128, 0.3)
   ),
   hover: (
      box-shadow: 0 0 3px rgba(128, 128, 128, 0.5)
   ),
   focus: (

   ),
   disabled: (

   ),
   active: (
      background: rgb(220, 220, 220)
   )
) !default;

@mixin cx-slider(
   $name: 'slider',
   $state-style-map: $cx-input-state-style-map,
   $styles: $cx-slider-handle-styles,
   $width: $cx-default-input-width,
   $besm: $cx-besm,
   $size: 8px
) {
   $block: map-get($besm, block);
   $element: map-get($besm, element);
   $state: map-get($besm, state);

   .#{$block}#{$name} {
      @include cxb-field($besm, $state-style-map, $input: false, $box: true);

      width: $width;

      &.#{$state}vertical {
         width: 28px;
         height: $width;
      }

      user-select: none;
   }

   .#{$element}#{$name}-axis {

      position: absolute;
      background: rgba(128, 128, 128, 0.2);
      border-radius: $size / 2;
      box-sizing: border-box;

      .#{$block}#{$name}.#{$state}horizontal & {
         left: $size;
         right: $size;
         top: calc(50% - 3px);
         height: 6px;
         padding: 0 3px;
      }

      .#{$block}#{$name}.#{$state}vertical & {
         top: $size;
         bottom: $size;
         width: 6px;
         left: calc(50% - 3px);
         padding: 3px 0;
      }
   }

   .#{$element}#{$name}-space {
      position: relative;
      width: 100%;
      height: 100%;
   }

   .#{$element}#{$name}-range {
      position: absolute;

      background: #98d4ff;
      border-radius: 3px;

      .#{$block}#{$name}.#{$state}horizontal & {
         height: 100%;
      }

      .#{$block}#{$name}.#{$state}vertical & {
         width: 100%;
      }
   }

   .#{$element}#{$name}-handle {
      position: absolute;
      box-sizing: border-box;

      .#{$block}#{$name}.#{$state}horizontal & {
         left: 0;
         top: 50%;
      }

      .#{$block}#{$name}.#{$state}vertical & {
         left: 50%;
         top: 0;
      }

      @include cx-add-state-rules($styles, default);

      &:hover {
         @include cx-add-state-rules($styles, hover);
      }

      &:focus {
         @include cx-add-state-rules($styles, focus);
      }

      &[disabled] {
         @include cx-add-state-rules($styles, disabled);
      }

      &:active {
         @include cx-add-state-rules($styles, active);
      }
   }
}

@if (cx-include('cx/widgets/Slider')) {
   @include cx-slider();
}
